!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(1);e.default=class{constructor(t,e,i,s){this.radius=e,this.position=t,this.velocity=i,this.direction=s}get x(){return this.position.x}get y(){return this.position.y}intersectsWith(t){const e=t.x-this.position.x,i=t.y-this.position.y;return Math.sqrt(e*e+i*i)<this.radius+t.radius}handleAreaBoundsCheck(){this.position.x<=0&&(this.position.x=s.WIDTH-1),this.position.y<=0&&(this.position.y=s.HEIGHT-1),this.position.x>=s.WIDTH&&(this.position.x=1),this.position.y>=s.HEIGHT&&(this.position.y=1)}drawDebugHelpers(t){if(!s.DEBUG)return;t.strokeStyle=s.OBJECT_COLOR,t.beginPath(),t.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI);const e=Math.round(this.position.x+this.radius*Math.cos(this.direction)),i=Math.round(this.position.y+this.radius*Math.sin(this.direction));t.moveTo(this.position.x,this.position.y),t.lineTo(e,i),t.stroke(),t.closePath()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEBUG=!1,e.WIDTH=700,e.HEIGHT=700,e.SCREEN_COLOR="#020202",e.OBJECT_COLOR="#f9f9f9"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,s){this.frames=e,this.frameWidth=i,this.frameHeight=s,this.currentFrame=0,this.rotation=0,this.image=new Image,this.image.src=t}setFrame(t){t>=0&&t<this.frames&&(this.currentFrame=t)}setNextFrame(){this.currentFrame+=1,this.currentFrame>=this.frames&&(this.currentFrame=0)}setRotation(t){this.rotation=t}rotate(t){this.rotation+=t}render(t,e,i){t.save(),t.translate(e,i),0!==this.rotation&&t.rotate(this.rotation);const s=0===this.currentFrame?0:this.currentFrame*this.frameWidth+1,n=-1*Math.floor(this.frameWidth/2),r=-1*Math.floor(this.frameHeight/2);t.drawImage(this.image,s,0,this.frameWidth,this.frameHeight,n,r,this.frameWidth,this.frameHeight),t.restore()}}},function(t,e,i){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Throttle=2]="Throttle",t[t.Shoot=3]="Shoot"}(s=e.Key||(e.Key={})),e.KEY_STATE=new Set,e.clearKeyState=function(){e.KEY_STATE.delete(s.Throttle),e.KEY_STATE.delete(s.Left),e.KEY_STATE.delete(s.Right),e.KEY_STATE.delete(s.Shoot)},e.keyDownListener=t=>{"ArrowUp"!==t.key&&"w"!==t.key||e.KEY_STATE.add(s.Throttle),"ArrowLeft"!==t.key&&"a"!==t.key||e.KEY_STATE.add(s.Left),"ArrowRight"!==t.key&&"d"!==t.key||e.KEY_STATE.add(s.Right)," "!==t.key&&"k"!==t.key||e.KEY_STATE.add(s.Shoot)},e.keyUpListener=t=>{"ArrowUp"!==t.key&&"w"!==t.key||e.KEY_STATE.delete(s.Throttle),"ArrowLeft"!==t.key&&"a"!==t.key||e.KEY_STATE.delete(s.Left),"ArrowRight"!==t.key&&"d"!==t.key||e.KEY_STATE.delete(s.Right)," "!==t.key&&"k"!==t.key||setTimeout((function(){e.KEY_STATE.delete(s.Shoot)}),50)}},function(t,e,i){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large"}(s||(s={})),e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(6);const s=i(10),n=i(1);class r{constructor(t){this.fpsTime=0,this.frameCount=0,this.fps=0,this.game=t}setup(){this.gameOverMenu=document.getElementById("gameOver"),this.newGameBtn=document.getElementById("newGameBtn"),this.levelResult=document.getElementById("levelResult"),this.scoreResult=document.getElementById("scoreResult"),this.newGameBtn.addEventListener("click",()=>this.restart()),this.game.init(),this.lastFrame=Date.now(),this.gameLoop()}restart(){this.game.restart(),this.hideGameOverMenu()}gameLoop(){requestAnimationFrame(this.gameLoop.bind(this));const t=Date.now(),e=t-this.lastFrame,i=e/1e3;this.lastFrame=t-(e&this.fpsInterval),n.DEBUG&&this.fpsTime>.25&&(console.log("FPS:",this.fps),this.fps=Math.round(this.frameCount/this.fpsTime),this.fpsTime=0,this.frameCount=0),this.fpsTime+=i,this.frameCount++,this.game.update(i),this.game.render(),this.game.hasEnded()&&this.menuIsHidden()&&this.showGameOverMenu()}menuIsHidden(){return this.gameOverMenu.classList.contains("hide-menu")}hideGameOverMenu(){this.gameOverMenu.classList.add("hide-menu")}showGameOverMenu(){const t=this.game.getGameStats();this.levelResult.textContent=`You reached level ${t.level}.`,this.scoreResult.textContent=`Final score was ${t.score}.`,this.gameOverMenu.classList.remove("hide-menu")}}window.onload=()=>{new r(new s.default).setup()}},function(t,e,i){var s=i(7),n=i(8);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var r={insert:"head",singleton:!1},o=(s(t.i,n,r),n.locals?n.locals:{});t.exports=o},function(t,e,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),o={};function a(t,e,i){for(var s=0;s<e.length;s++){var n={css:e[s][1],media:e[s][2],sourceMap:e[s][3]};o[t][s]?o[t][s](n):o[t].push(m(n,i))}}function h(t){var e=document.createElement("style"),s=t.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(t){e.setAttribute(t,s[t])})),"function"==typeof t.insert)t.insert(e);else{var o=r(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,l=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,i,s){var n=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=l(e,n);else{var r=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function u(t,e,i){var s=i.css,n=i.media,r=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),r&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var f=null,p=0;function m(t,e){var i,s,n;if(e.singleton){var r=p++;i=f||(f=h(e)),s=d.bind(null,i,r,!1),n=d.bind(null,i,r,!0)}else i=h(e),s=u.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e,i){return(i=i||{}).singleton||"boolean"==typeof i.singleton||(i.singleton=n()),t=i.base?t+i.base:t,e=e||[],o[t]||(o[t]=[]),a(t,e,i),function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){o[t]||(o[t]=[]),a(t,e,i);for(var s=e.length;s<o[t].length;s++)o[t][s]();o[t].length=e.length,0===o[t].length&&delete o[t]}}}},function(t,e,i){(e=i(9)(!1)).push([t.i,'html,\r\nbody {\r\n  overflow: hidden;\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  background-color: #0c0c0c;\r\n}\r\n\r\n.container {\r\n  width: 702px;\r\n  margin: 0 auto;\r\n  margin-top: 20px;\r\n}\r\n\r\n.new-game-btn {\r\n  -moz-user-select: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  -o-user-select: none;\r\n  display: inline-block;\r\n  padding: 8px 16px;\r\n  border: 1px solid #16479c;\r\n  box-sizing: border-box;\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  font-family: sans-serif !important;\r\n  font-size: 12pt;\r\n  text-align: center;\r\n  color: #0c0c0c;\r\n  background-color: #16479c;\r\n}\r\n\r\n.new-game-btn:hover {\r\n  background-color: transparent;\r\n  color: #16479c;\r\n  font-weight: 500;\r\n}\r\n\r\nbutton:focus {\r\n  outline: 0 !important;\r\n}\r\n\r\ncanvas {\r\n  -webkit-tap-highlight-color: transparent;\r\n  margin-top: 40px;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-color: #16479c;\r\n}\r\n\r\n.game-over-menu {\r\n  margin-top: 20px;\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-color: #16479c;\r\n}\r\n\r\n.score-text {\r\n  color: #f9f9f9;\r\n  font-family: "Courier New", Courier, monospace;\r\n  font-size: 13pt;\r\n  margin-left: 10px;\r\n}\r\n\r\n.hide-menu {\r\n  display: none;\r\n}\r\n\r\n.hide-menu > button {\r\n  cursor: not-allowed;\r\n  pointer-events: none;\r\n}\r\n',""]),t.exports=e},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(o=s,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(h," */")),r=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot).concat(t," */")}));return[i].concat(r).concat([n]).join("\n")}var o,a,h;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s=0;s<t.length;s++){var n=[].concat(t[s]);i&&(n[2]?n[2]="".concat(i," and ").concat(n[2]):n[2]=i),e.push(n)}},e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),n=i(11),r=i(13),o=i(4),a=i(14),h=i(16),c=i(1),l=60,d=.001;e.default=class{constructor(){this.level=1,this.score=0,this.gameOver=!1,this.width=c.WIDTH,this.height=c.HEIGHT,this.asteroids=[],this.ufos=[],this.ufoProjectiles=[],this.ufoSpawnTimer=300,this.canvas=document.getElementById("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.ctx=this.canvas.getContext("2d"),this.impactAnimations=new h.default}hasEnded(){return this.gameOver}getGameStats(){return{level:this.level,score:this.score}}init(){document.addEventListener("keydown",s.keyDownListener),document.addEventListener("keyup",s.keyUpListener),this.restart()}restart(){s.clearKeyState(),this.gameOver=!1,this.ship=new n.default(c.WIDTH/2,c.HEIGHT/2),this.asteroids=[],this.ufos=[],this.ufoProjectiles=[],this.level=1,this.score=0,this.spawnNewAsteroids(3)}update(t){this.gameOver||(this.ship.update(t),this.ship.bullets.forEach(e=>e.update(t))),this.asteroids.forEach(e=>e.update(t)),this.ufoSpawnTimer--,this.ufoSpawnTimer<=0&&Math.random()<=d&&(this.spawnNewUfo(),this.ufoSpawnTimer=l),this.ufos.forEach(e=>{e.update(t),e.isReadyToFire()&&this.ufoProjectiles.push(e.fireProjectile())}),this.ufoProjectiles.forEach(e=>e.update(t)),this.ufoProjectiles=this.ufoProjectiles.filter(t=>t.isActive),this.handleCollisions(),0===this.asteroids.length&&0===this.ufos.length&&(this.level++,this.spawnNewAsteroids(this.level+2)),this.impactAnimations.updateAnimations(t)}render(){this.ctx.fillStyle=c.SCREEN_COLOR,this.ctx.fillRect(0,0,this.width,this.height),this.gameOver||(this.ship.render(this.ctx),this.ship.bullets.forEach(t=>t.render(this.ctx))),this.asteroids.forEach(t=>t.render(this.ctx)),this.ufos.forEach(t=>{t.render(this.ctx)}),this.ufoProjectiles.forEach(t=>t.render(this.ctx)),this.impactAnimations.renderAnimations(this.ctx)}spawnNewUfo(){if(this.gameOver)return;const t=this.getNewSpawnPosition();this.ufos.push(new a.default(t.x,t.y,this.ship))}spawnNewAsteroids(t){for(let e=0;e<t;e++){const t=this.getNewSpawnPosition();this.asteroids.push(new r.default(t.x,t.y,o.default.Large))}}getNewSpawnPosition(){return Math.random()>.5?{x:Math.random()>.5?0:c.WIDTH,y:Math.random()*c.HEIGHT}:{x:Math.random()*c.WIDTH,y:Math.random()>.5?0:c.HEIGHT}}handleCollisions(){this.gameOver||(this.handleBulletCollisions(),this.handleUfoProjectileCollisions(),this.handleUfoCollisions(),this.handleShipCollisions())}handleBulletCollisions(){for(const t of this.ship.bullets){if(!t.isActive)continue;const e=this.asteroids.findIndex(e=>e.intersectsWith(t));e>=0&&(t.isActive=!1,this.score+=10*this.asteroids[e].radius,this.splitAsteroid(e));const i=this.ufos.findIndex(e=>e.intersectsWith(t));i>=0&&(this.impactAnimations.startImpactAnimation(this.ufos[i].x,this.ufos[i].y),this.ufos.splice(i,1),t.isActive=!1,this.score+=1e3)}}handleUfoProjectileCollisions(){for(const t of this.ufoProjectiles){if(!t.isActive)continue;const e=this.asteroids.findIndex(e=>e.intersectsWith(t));if(e>=0&&(t.isActive=!1,this.splitAsteroid(e)),t.intersectsWith(this.ship))return void this.endGame()}}handleShipCollisions(){const t=this.ufos.some(t=>t.intersectsWith(this.ship)),e=this.asteroids.some(t=>t.intersectsWith(this.ship));(t||e)&&this.endGame()}handleUfoCollisions(){this.ufos.forEach((t,e)=>{const i=this.asteroids.findIndex(e=>e.intersectsWith(t));i>=0&&(this.ufos.splice(e,1),this.splitAsteroid(i))})}splitAsteroid(t){const e=this.asteroids[t];if(this.impactAnimations.startImpactAnimation(e.x,e.y),this.asteroids.splice(t,1),e.category===o.default.Small)return;const i=e.category===o.default.Large?o.default.Medium:o.default.Small;this.asteroids.push(new r.default(e.x+10,e.y+10,i),new r.default(e.x-10,e.y-10,i))}endGame(){this.impactAnimations.startImpactAnimation(this.ship.x,this.ship.y),this.gameOver=!0}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(12),r=i(3),o=i(2),a=16,h=500,c=10,l=7,d=.07,u=.99,f="./assets/ship.png",p=2,m=33,y=33;class v extends s.default{constructor(t,e){super({x:t,y:e},a,{x:0,y:0},0),this.thrust=0,this.reloadTimer=0,this.acceleration={x:0,y:0},this.bullets=[new n.default,new n.default,new n.default,new n.default],this.sprite=new o.default(f,p,y,m)}render(t){this.thrust>0?this.sprite.setFrame(1):this.sprite.setFrame(0),this.sprite.setRotation(this.direction),this.sprite.render(t,this.x,this.y),super.drawDebugHelpers(t)}update(t){r.KEY_STATE.has(r.Key.Left)&&this.rotateLeft(),r.KEY_STATE.has(r.Key.Right)&&this.rotateRight(),r.KEY_STATE.has(r.Key.Shoot)&&this.fire(),r.KEY_STATE.has(r.Key.Throttle)?this.thrust=l:this.thrust=0,this.acceleration.x+=Math.cos(this.direction)*this.thrust*t,this.acceleration.y+=Math.sin(this.direction)*this.thrust*t,this.velocity.x+=this.acceleration.x,this.velocity.y+=this.acceleration.y,this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.acceleration.x=0,this.acceleration.y=0,this.velocity.x*=u,this.velocity.y*=u,0===this.thrust&&(this.velocity.x<t&&this.velocity.x>-t&&(this.velocity.x=0),this.velocity.y<t&&this.velocity.y>-t&&(this.velocity.y=0));const e=h*t;this.velocity.x>e&&(this.velocity.x=e),this.velocity.y>e&&(this.velocity.y=e),this.velocity.x<-e&&(this.velocity.x=-e),this.velocity.y<-e&&(this.velocity.y=-e),super.handleAreaBoundsCheck()}rotateLeft(){this.direction=this.direction-d}rotateRight(){this.direction=this.direction+d}fire(){if(this.reloadTimer>0)return void(this.reloadTimer-=1);const t=this.bullets.find(t=>!t.isActive);void 0!==t&&(t.fire(this.direction,this.position.x,this.position.y),this.reloadTimer=c)}}e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(1),r=30,o=1e3,a=2;class h extends s.default{constructor(){super({x:0,y:0},a,{x:o,y:o},0),this.isActive=!1}fire(t,e,i){this.isActive=!0,this.direction=t,this.position.x=e,this.position.y=i,this.ttl=r}render(t){this.isActive&&(t.fillStyle=n.OBJECT_COLOR,t.beginPath(),t.arc(this.position.x,this.position.y,2,0,2*Math.PI),t.fill(),t.closePath())}update(t){this.isActive&&(this.ttl-=1,this.ttl<=0&&(this.isActive=!1),this.position.x+=Math.cos(this.direction)*this.velocity.x*t,this.position.y+=Math.sin(this.direction)*this.velocity.y*t,super.handleAreaBoundsCheck())}}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(2),r=i(4),o=25,a="./assets/asteroids.png",h=6,c=111,l=111,d={[r.default.Large]:[0,1],[r.default.Medium]:[2,3],[r.default.Small]:[4,5]},u={[r.default.Large]:60,[r.default.Medium]:40,[r.default.Small]:20},f={[r.default.Large]:50,[r.default.Medium]:100,[r.default.Small]:150};class p extends s.default{constructor(t,e,i){const s=Math.random()*(2*Math.PI),r=u[i],p=o+Math.random()*f[i],m=d[i][Math.floor(2*Math.random())];super({x:t,y:e},r,{x:p,y:p},s),this.sprite=new n.default(a,h,l,c),this.sprite.setFrame(m),this.category=i}render(t){this.sprite.render(t,this.x,this.y),super.drawDebugHelpers(t)}update(t){this.position.x+=Math.cos(this.direction)*this.velocity.x*t,this.position.y+=Math.sin(this.direction)*this.velocity.y*t,super.handleAreaBoundsCheck()}}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(15),r=i(2),o=100,a=15,h=240,c="./assets/ufo.png",l=1,d=31,u=31;class f extends s.default{constructor(t,e,i){super({x:t,y:e},a,{x:o,y:o},Math.random()*(2*Math.PI)),this.reloadTimer=0,this.target=i,this.sprite=new r.default(c,l,u,d)}render(t){this.sprite.render(t,this.x,this.y),super.drawDebugHelpers(t)}update(t){this.reloadTimer--,this.position.x+=Math.cos(this.direction)*this.velocity.x*t,this.position.y+=Math.sin(this.direction)*this.velocity.y*t,Math.random()<.005&&this.changeDirection(),super.handleAreaBoundsCheck()}isReadyToFire(){return this.reloadTimer<=0&&Math.random()<.006}fireProjectile(){this.reloadTimer=h;const t=Math.atan2(this.target.y-this.y,this.target.x-this.x);return new n.default(this.position,t)}changeDirection(){const t=Math.random()+.5;Math.random()>.5?this.direction+=t:this.direction-=t}}e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(2),r=200,o=150,a=5,h="./assets/ufo-projectile.png",c=5,l=15,d=15,u=3;class f extends s.default{constructor(t,e){super({x:t.x,y:t.y},a,{x:o,y:o},e),this.isActive=!1,this.frameTimeRemaining=u,this.isActive=!0,this.ttl=r,this.sprite=new n.default(h,c,d,l)}render(t){this.isActive&&(this.sprite.render(t,this.x,this.y),this.frameTimeRemaining<=0?(this.sprite.setNextFrame(),this.frameTimeRemaining=u):this.frameTimeRemaining--,super.drawDebugHelpers(t))}update(t){this.isActive&&(this.ttl-=1,this.ttl<=0&&(this.isActive=!1),this.position.x+=Math.cos(this.direction)*this.velocity.x*t,this.position.y+=Math.sin(this.direction)*this.velocity.y*t,super.handleAreaBoundsCheck())}}e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),n=30,r=30,o=4;e.default=class{constructor(){this.activeParticles=[]}renderAnimations(t){this.activeParticles.forEach(e=>{t.fillStyle=s.OBJECT_COLOR,t.fillRect(e.x,e.y,1,1)})}updateAnimations(t){this.activeParticles.forEach(e=>{e.x+=Math.cos(e.direction)*e.velocity*t,e.y+=Math.sin(e.direction)*e.velocity*t,e.ttl--}),this.activeParticles=this.activeParticles.filter(t=>t.ttl>0)}startImpactAnimation(t,e){const i=[],s=o+Math.floor(2*Math.random());for(let o=0;o<s;o++)i.push({x:t,y:e,direction:Math.random()*(2*Math.PI),velocity:r+30*Math.random(),ttl:n});this.activeParticles.push(...i)}}}]);